{"version":3,"sources":["types/index.ts","logic/index.ts","selectors/index.ts","state/reducer.ts","state/index.ts","components/Cell.tsx","components/CellContainer.tsx","components/GridCellContainer.tsx","components/Grid.tsx","components/Confetti.tsx","components/GameOverDialog.tsx","components/OutOfFlagsDialog.tsx","components/Configuration.tsx","components/Minesweeper.tsx","App.tsx","index.tsx"],"names":["CellStatus","GameStatus","getAdjacentCoordinates","board","width","height","x","y","adjacentCoordinates","i","Math","max","min","j","push","initBoard","mineCount","isSuperman","initialCell","status","Visible","Hidden","isMine","adjacentMinesCount","Array","fill","undefined","map","availableCoordinates","rand","floor","random","length","splice","filter","cell","getCellByCoordinate","state","coordinate","getFlaggedCells","Flagged","revealCell","InProgress","newBoard","Revealed","Lost","currCoordinate","shift","concat","revealClearAdjacentCells","nonRevealedCells","Won","minesweeperReducer","action","type","payload","flaggedCells","showOutOfFlags","remainingFlags","find","flagCell","emptyContext","dispatch","MinesweeperContext","React","createContext","origMinesweeperReducer","adjacentMinesCountName","n","CellText","className","Cell","onClick","toLowerCase","CellContainer","useContext","e","shiftKey","GridCellContainer","memo","props","style","rowIndex","columnIndex","areEqual","Grid","containerHeight","containerWidth","columnCount","columnWidth","rowCount","rowHeight","Confetti","data-testid","GameOverDialog","onClose","Dialog","open","aria-labelledby","aria-describedby","DialogTitle","id","messageByStatus","DialogActions","Button","color","autoFocus","useStyles","makeStyles","theme","createStyles","configuration","padding","spacing","sliders","display","inputContainer","flex","buttons","textAlign","margin","Configuration","newGame","useState","setWidth","setHeight","setMineCount","classes","Typography","gutterBottom","Slider","value","valueLabelDisplay","onChange","event","newValue","variant","FormControlLabel","control","Switch","checked","name","label","Minesweeper","flagsLeft","OutOfFlagsDialog","stateString","localStorage","getItem","initialState","JSON","parse","App","useReducer","setItem","stringify","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c9d6c647.chunk.js","sourcesContent":["export enum CellStatus {\n  Hidden,\n  Revealed,\n  Flagged,\n  Visible,\n}\n\nexport enum GameStatus {\n  InProgress,\n  Won,\n  Lost,\n}\n\nexport type Cell = {\n  status: CellStatus;\n  isMine: boolean;\n  adjacentMinesCount: number;\n};\n\nexport type Coordinate = {\n  x: number;\n  y: number;\n};\n\nexport type Board = Array<Cell>;\n\nexport type State = {\n  status: GameStatus;\n  board: Board;\n  width: number;\n  height: number;\n  mineCount: number;\n  showOutOfFlags?: boolean;\n  isSuperman?: boolean;\n};\n\nexport type Action =\n  | { type: \"CELL_REVEAL\"; payload: Coordinate }\n  | { type: \"CELL_FLAG\"; payload: Coordinate }\n  | { type: \"NEW_GAME\"; payload: State }\n  | { type: \"HIDE_OUT_OF_FLAGS\" }\n  | { type: \"TOGGLE_SUPERMAN\"; payload: boolean };\n\nexport type Context = {\n  state: State;\n  dispatch: React.Dispatch<Action>;\n};\n","import { Board, Coordinate, Cell, CellStatus } from \"../types\";\n\nconst getAdjacentCoordinates = (\n  board: Board,\n  { x, y }: Coordinate,\n  width: number,\n  height: number\n) => {\n  const adjacentCoordinates: Coordinate[] = [];\n\n  for (let i = Math.max(x - 1, 0); i <= Math.min(x + 1, width - 1); i++) {\n    for (let j = Math.max(y - 1, 0); j <= Math.min(y + 1, height - 1); j++) {\n      if (i === x && j === y) {\n        continue;\n      }\n\n      adjacentCoordinates.push({ x: i, y: j });\n    }\n  }\n\n  return adjacentCoordinates;\n};\n\nexport const initBoard = (\n  width: number,\n  height: number,\n  mineCount: number,\n  isSuperman?: boolean\n) => {\n  const initialCell: Cell = {\n    status: isSuperman ? CellStatus.Visible : CellStatus.Hidden,\n    isMine: false,\n    adjacentMinesCount: 0,\n  };\n\n  const board: Board = new Array(width * height).fill(undefined).map(() => ({\n    ...initialCell,\n  }));\n\n  const availableCoordinates = new Array<Coordinate>(width * height);\n\n  for (let x = 0; x < width; x++) {\n    for (let y = 0; y < height; y++) {\n      availableCoordinates[x * height + y] = { x, y };\n    }\n  }\n\n  for (let i = 0; i < mineCount; i++) {\n    const rand = Math.floor(Math.random() * availableCoordinates.length);\n    const { x, y } = availableCoordinates.splice(rand, 1)[0];\n    board[x * height + y].isMine = true;\n  }\n\n  for (let x = 0; x < width; x++) {\n    for (let y = 0; y < height; y++) {\n      board[x * height + y].adjacentMinesCount = getAdjacentCoordinates(\n        board,\n        { x, y },\n        width,\n        height\n      ).filter((cell) => board[cell.x * height + cell.y].isMine).length;\n    }\n  }\n\n  return board;\n};\n\nexport const revealClearAdjacentCells = (\n  board: Board,\n  coordinate: Coordinate,\n  width: number,\n  height: number\n) => {\n  const newBoard = [...board];\n  let adjacentCoordinates = getAdjacentCoordinates(\n    board,\n    coordinate,\n    width,\n    height\n  ).filter((currCoordinate) => {\n    const cell = board[currCoordinate.x * height + currCoordinate.y];\n    return cell.status !== CellStatus.Revealed;\n  });\n\n  while (true) {\n    const coordinate = adjacentCoordinates.shift();\n\n    if (!coordinate) {\n      return newBoard;\n    }\n\n    const cell = newBoard[coordinate.x * height + coordinate.y];\n\n    if (\n      cell.status === CellStatus.Hidden ||\n      cell.status === CellStatus.Visible\n    ) {\n      newBoard[coordinate.x * height + coordinate.y] = {\n        ...cell,\n        status: CellStatus.Revealed,\n      };\n\n      if (!cell.adjacentMinesCount) {\n        adjacentCoordinates = adjacentCoordinates.concat(\n          getAdjacentCoordinates(board, coordinate, width, height).filter(\n            (currCoordinate) => {\n              const cell = board[currCoordinate.x * height + currCoordinate.y];\n              return (\n                cell.status === CellStatus.Hidden ||\n                cell.status === CellStatus.Visible\n              );\n            }\n          )\n        );\n      }\n    }\n  }\n};\n","import { State, Coordinate, Cell, CellStatus } from \"../types\";\n\nexport const getCellByCoordinate = (\n  state: State,\n  coordinate: Coordinate\n): Cell => {\n  return state.board[coordinate.x * state.height + coordinate.y];\n};\n\nexport const getFlaggedCells = (state: State): Cell[] => {\n  return state.board.filter((cell) => cell.status === CellStatus.Flagged);\n};\n","import {\n  State,\n  Action,\n  GameStatus,\n  Cell,\n  CellStatus,\n  Coordinate,\n  Board,\n} from \"../types\";\nimport { revealClearAdjacentCells } from \"../logic\";\nimport { getCellByCoordinate, getFlaggedCells } from \"../selectors\";\n\nconst revealCell = ({\n  board,\n  coordinate,\n  cell,\n  width,\n  height,\n  mineCount,\n}: {\n  board: Board;\n  coordinate: Coordinate;\n  cell: Cell;\n  width: number;\n  height: number;\n  mineCount: number;\n}): [Board, GameStatus] => {\n  if (cell.status !== CellStatus.Hidden && cell.status !== CellStatus.Visible) {\n    return [board, GameStatus.InProgress];\n  }\n\n  let newBoard = [...board];\n  newBoard[coordinate.x * height + coordinate.y] = {\n    ...cell,\n    status: CellStatus.Revealed,\n  };\n\n  if (cell.isMine) {\n    return [newBoard, GameStatus.Lost];\n  }\n\n  if (!cell.adjacentMinesCount) {\n    newBoard = revealClearAdjacentCells(newBoard, coordinate, width, height);\n  }\n  const nonRevealedCells = newBoard.filter(\n    (cell) => cell.status !== CellStatus.Revealed\n  );\n\n  return [\n    newBoard,\n    nonRevealedCells.length === mineCount\n      ? GameStatus.Won\n      : GameStatus.InProgress,\n  ];\n};\n\nconst flagCell = ({\n  board,\n  flaggedCells,\n  coordinate,\n  cell,\n  height,\n  mineCount,\n  isSuperman,\n}: {\n  board: Board;\n  flaggedCells: Cell[];\n  coordinate: Coordinate;\n  cell: Cell;\n  height: number;\n  mineCount: number;\n  isSuperman: boolean;\n}): [Board, GameStatus] => {\n  if (cell.status === CellStatus.Revealed) {\n    return [board, GameStatus.InProgress];\n  }\n\n  const remainingFlags = mineCount - flaggedCells.length;\n  const newBoard = [...board];\n  newBoard[coordinate.x * height + coordinate.y] = {\n    ...cell,\n    status:\n      cell.status === CellStatus.Hidden || cell.status === CellStatus.Visible\n        ? CellStatus.Flagged\n        : isSuperman\n        ? CellStatus.Visible\n        : CellStatus.Hidden,\n  };\n\n  if (\n    cell.isMine &&\n    remainingFlags === 1 &&\n    !flaggedCells.find((cell) => !cell.isMine)\n  ) {\n    return [newBoard, GameStatus.Won];\n  }\n\n  return [newBoard, GameStatus.InProgress];\n};\n\nconst minesweeperReducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"CELL_REVEAL\": {\n      if (state.status !== GameStatus.InProgress) {\n        return state;\n      }\n\n      const cell = getCellByCoordinate(state, action.payload);\n      const [board, status] = revealCell({\n        ...state,\n        cell,\n        coordinate: action.payload,\n      });\n\n      return { ...state, board, status };\n    }\n\n    case \"CELL_FLAG\": {\n      if (state.status !== GameStatus.InProgress) {\n        return state;\n      }\n\n      const flaggedCells = getFlaggedCells(state);\n      const cell = getCellByCoordinate(state, action.payload);\n      const remainingFlags = state.mineCount - flaggedCells.length;\n\n      if (!remainingFlags && cell.status !== CellStatus.Flagged) {\n        return { ...state, showOutOfFlags: true };\n      }\n\n      const [board, status] = flagCell({\n        ...state,\n        flaggedCells,\n        cell,\n        coordinate: action.payload,\n        isSuperman: !!state.isSuperman,\n      });\n      return { ...state, board, status };\n    }\n\n    case \"NEW_GAME\": {\n      return action.payload;\n    }\n\n    case \"HIDE_OUT_OF_FLAGS\": {\n      return { ...state, showOutOfFlags: false };\n    }\n\n    case \"TOGGLE_SUPERMAN\": {\n      return {\n        ...state,\n        board: state.board.map((cell) => {\n          if (action.payload) {\n            if (cell.status === CellStatus.Hidden) {\n              return { ...cell, status: CellStatus.Visible };\n            }\n\n            return cell;\n          } else {\n            if (cell.status === CellStatus.Visible) {\n              return { ...cell, status: CellStatus.Hidden };\n            }\n\n            return cell;\n          }\n        }),\n        isSuperman: action.payload,\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default minesweeperReducer;\n","import React from \"react\";\nimport { Context, GameStatus } from \"../types\";\nimport origMinesweeperReducer from \"./reducer\";\n\nexport const emptyContext: Context = {\n  state: {\n    status: GameStatus.InProgress,\n    board: [],\n    width: 1,\n    height: 2,\n    mineCount: 3,\n  },\n  dispatch: () => {},\n};\nexport const MinesweeperContext = React.createContext<Context>(emptyContext);\nexport const minesweeperReducer = origMinesweeperReducer;\n","import React from \"react\";\nimport { Cell as CellType, CellStatus } from \"../types\";\nimport \"./Cell.css\";\n\nconst adjacentMinesCountName = (n: number) => {\n  switch (n) {\n    case 1:\n      return \"one\";\n    case 2:\n      return \"two\";\n    case 3:\n      return \"three\";\n    case 4:\n      return \"four\";\n    case 5:\n      return \"five\";\n    case 6:\n      return \"six\";\n    case 7:\n      return \"seven\";\n    case 8:\n      return \"eight\";\n    default:\n      return \"\";\n  }\n};\n\nconst CellText = ({ cell }: { cell: CellType }) => {\n  if (\n    cell.status === CellStatus.Revealed ||\n    cell.status === CellStatus.Visible\n  ) {\n    if (cell.isMine) {\n      return <i className=\"material-icons bomb\">new_releases</i>;\n    }\n\n    return <span>{cell.adjacentMinesCount || \"\"}</span>;\n  }\n\n  if (cell.status === CellStatus.Flagged) {\n    return <i className=\"material-icons flag\">tour</i>;\n  }\n\n  return <span></span>;\n};\n\nconst Cell = ({\n  cell,\n  onClick,\n}: {\n  cell: CellType;\n  onClick: (e: React.MouseEvent) => void;\n}) => {\n  return (\n    <div\n      className={`cell-content ${CellStatus[\n        cell.status\n      ].toLowerCase()} ${adjacentMinesCountName(cell.adjacentMinesCount)}`}\n      onClick={onClick}\n    >\n      <CellText cell={cell} />\n    </div>\n  );\n};\n\nexport default Cell;\n","import React, { useContext } from \"react\";\nimport { Coordinate } from \"../types\";\nimport { MinesweeperContext } from \"../state\";\nimport { getCellByCoordinate } from \"../selectors\";\nimport Cell from \"./Cell\";\n\nconst CellContainer = (coordinate: Coordinate) => {\n  const { state, dispatch } = useContext(MinesweeperContext);\n  const cell = getCellByCoordinate(state, coordinate);\n  const onClick = (e: React.MouseEvent) => {\n    if (!e.shiftKey) {\n      dispatch({ type: \"CELL_REVEAL\", payload: coordinate });\n    } else {\n      dispatch({ type: \"CELL_FLAG\", payload: coordinate });\n    }\n  };\n\n  return <Cell cell={cell} onClick={onClick} />;\n};\n\nexport default CellContainer;\n","import React from \"react\";\nimport { GridChildComponentProps, areEqual } from \"react-window\";\nimport CellContainer from \"./CellContainer\";\nimport \"./GridCellContainer.css\";\n\nconst GridCellContainer = React.memo(\n  (props: GridChildComponentProps) => (\n    <div style={props.style}>\n      <div className=\"cell\">\n        <CellContainer y={props.rowIndex} x={props.columnIndex} />\n      </div>\n    </div>\n  ),\n  areEqual\n);\n\nexport default GridCellContainer;\n","import React, { useContext } from \"react\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport { FixedSizeGrid } from \"react-window\";\nimport { MinesweeperContext } from \"../state\";\nimport GridCellContainer from \"./GridCellContainer\";\n\nconst Grid = () => {\n  const { state } = useContext(MinesweeperContext);\n\n  return (\n    <AutoSizer>\n      {({ height: containerHeight, width: containerWidth }) => {\n        return (\n          <FixedSizeGrid\n            className=\"minesweeper-grid\"\n            columnCount={state.width}\n            columnWidth={50}\n            height={containerHeight}\n            rowCount={state.height}\n            rowHeight={50}\n            width={containerWidth}\n          >\n            {GridCellContainer}\n          </FixedSizeGrid>\n        );\n      }}\n    </AutoSizer>\n  );\n};\n\nexport default Grid;\n","import React from \"react\";\nimport \"./Confetti.css\";\n\nconst Confetti = () => {\n  return (\n    <div data-testid=\"confetti\">\n      <div className=\"confetti\" />\n      <div className=\"confetti\" />\n      <div className=\"confetti\" />\n      <div className=\"confetti\" />\n      <div className=\"confetti\" />\n      <div className=\"confetti\" />\n      <div className=\"confetti\" />\n      <div className=\"confetti\" />\n      <div className=\"confetti\" />\n      <div className=\"confetti\" />\n    </div>\n  );\n};\n\nexport default Confetti;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { GameStatus } from \"../types\";\n\nconst messageByStatus = (status: GameStatus) => {\n  switch (status) {\n    case GameStatus.Won: {\n      return \"You win!\";\n    }\n    case GameStatus.Lost: {\n      return \"You lose :(\";\n    }\n    case GameStatus.InProgress: {\n      return \"Restarting...\";\n    }\n  }\n};\n\nconst GameOverDialog = ({\n  status,\n  onClose,\n}: {\n  status: GameStatus;\n  onClose: () => void;\n}) => {\n  return (\n    <Dialog\n      open={status !== GameStatus.InProgress}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">\n        {messageByStatus(status)}\n      </DialogTitle>\n      <DialogActions>\n        <Button onClick={onClose} color=\"primary\" autoFocus>\n          Play again\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default GameOverDialog;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nconst GameOverDialog = ({\n  open,\n  onClose,\n}: {\n  open: boolean;\n  onClose: () => void;\n}) => {\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">No more flags left.</DialogTitle>\n      <DialogActions>\n        <Button onClick={onClose} color=\"primary\" autoFocus>\n          OK\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default GameOverDialog;\n","import React, { useState, useContext } from \"react\";\nimport Slider from \"@material-ui/core/Slider\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport Switch from \"@material-ui/core/Switch\";\nimport { MinesweeperContext } from \"../state\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    configuration: {\n      padding: theme.spacing(1),\n    },\n    sliders: {\n      display: \"flex\",\n    },\n    inputContainer: {\n      padding: \"10px\",\n      flex: 1,\n    },\n    buttons: {\n      textAlign: \"left\",\n      \"& > *\": {\n        margin: theme.spacing(1),\n      },\n    },\n  })\n);\n\nconst Configuration = ({\n  newGame,\n}: {\n  newGame: (width: number, height: number, mineCount: number) => void;\n}) => {\n  const { state, dispatch } = useContext(MinesweeperContext);\n  const [width, setWidth] = useState<number>(state.width);\n  const [height, setHeight] = useState<number>(state.height);\n  const [mineCount, setMineCount] = useState<number>(state.mineCount);\n  const classes = useStyles();\n\n  const handleWidthChange = (\n    event: React.ChangeEvent<{}>,\n    newValue: number | number[]\n  ) => {\n    setWidth(newValue as number);\n  };\n\n  const handleHeightChange = (\n    event: React.ChangeEvent<{}>,\n    newValue: number | number[]\n  ) => {\n    setHeight(newValue as number);\n  };\n\n  const handleMineCountChange = (\n    event: React.ChangeEvent<{}>,\n    newValue: number | number[]\n  ) => {\n    setMineCount(newValue as number);\n  };\n\n  return (\n    <div className={classes.configuration}>\n      <div className={classes.sliders}>\n        <div className={classes.inputContainer}>\n          <Typography gutterBottom>Width</Typography>\n          <Slider\n            value={width}\n            min={3}\n            max={300}\n            valueLabelDisplay=\"auto\"\n            onChange={handleWidthChange}\n            aria-labelledby=\"continuous-slider\"\n          />\n        </div>\n        <div className={classes.inputContainer}>\n          <Typography gutterBottom>Height</Typography>\n          <Slider\n            value={height}\n            min={3}\n            max={300}\n            valueLabelDisplay=\"auto\"\n            onChange={handleHeightChange}\n            aria-labelledby=\"continuous-slider\"\n          />\n        </div>\n        <div className={classes.inputContainer}>\n          <Typography gutterBottom>Mines</Typography>\n          <Slider\n            value={mineCount}\n            min={1}\n            max={width * height}\n            valueLabelDisplay=\"auto\"\n            onChange={handleMineCountChange}\n            aria-labelledby=\"continuous-slider\"\n          />\n        </div>\n      </div>\n      <div className={classes.buttons}>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => newGame(width, height, mineCount)}\n        >\n          New Game\n        </Button>\n        <FormControlLabel\n          control={\n            <Switch\n              checked={state.isSuperman}\n              onChange={() =>\n                dispatch({\n                  type: \"TOGGLE_SUPERMAN\",\n                  payload: !state.isSuperman,\n                })\n              }\n              name=\"superman\"\n            />\n          }\n          label=\"Superman\"\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Configuration;\n","import React, { useContext } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"./Grid\";\nimport Confetti from \"./Confetti\";\nimport GameOverDialog from \"./GameOverDialog\";\nimport OutOfFlagsDialog from \"./OutOfFlagsDialog\";\nimport Configuration from \"./Configuration\";\nimport { getFlaggedCells } from \"../selectors\";\nimport { MinesweeperContext } from \"../state\";\nimport { GameStatus } from \"../types\";\nimport { initBoard } from \"../logic\";\nimport \"./Minesweeper.css\";\n\nconst Minesweeper = () => {\n  const { state, dispatch } = useContext(MinesweeperContext);\n  const flagsLeft = state.mineCount - getFlaggedCells(state).length;\n\n  return (\n    <div className=\"minesweeper-container\">\n      {state.status === GameStatus.Won && <Confetti />}\n      <Configuration\n        newGame={(width, height, mineCount) =>\n          dispatch({\n            type: \"NEW_GAME\",\n            payload: {\n              status: GameStatus.InProgress,\n              width,\n              height,\n              mineCount,\n              board: initBoard(width, height, mineCount, state.isSuperman),\n              isSuperman: state.isSuperman,\n            },\n          })\n        }\n      />\n      <OutOfFlagsDialog\n        open={!!state.showOutOfFlags}\n        onClose={() => dispatch({ type: \"HIDE_OUT_OF_FLAGS\" })}\n      />\n      <GameOverDialog\n        status={state.status}\n        onClose={() =>\n          dispatch({\n            type: \"NEW_GAME\",\n            payload: {\n              ...state,\n              status: GameStatus.InProgress,\n              board: initBoard(\n                state.width,\n                state.height,\n                state.mineCount,\n                state.isSuperman\n              ),\n            },\n          })\n        }\n      />\n      <Typography gutterBottom>Flags left: {flagsLeft}</Typography>\n      <div className=\"grid-container\">\n        <Grid />\n      </div>\n    </div>\n  );\n};\n\nexport default Minesweeper;\n","import React, { useReducer } from \"react\";\nimport { MinesweeperContext, minesweeperReducer } from \"./state\";\nimport { initBoard } from \"./logic\";\nimport Minesweeper from \"./components/Minesweeper\";\nimport { State, GameStatus } from \"./types\";\n\nconst width = 10;\nconst height = 10;\nconst mineCount = 10;\n\nconst stateString = localStorage.getItem(\"state\");\nconst initialState: State = stateString\n  ? (JSON.parse(stateString) as State)\n  : {\n      status: GameStatus.InProgress,\n      board: initBoard(width, height, mineCount),\n      width,\n      height,\n      mineCount,\n    };\n\nfunction App() {\n  const [state, dispatch] = useReducer(minesweeperReducer, initialState);\n  localStorage.setItem(\"state\", JSON.stringify(state));\n\n  return (\n    <MinesweeperContext.Provider value={{ state, dispatch }}>\n      <Minesweeper />\n    </MinesweeperContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}